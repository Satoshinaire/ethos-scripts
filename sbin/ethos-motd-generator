#!/bin/bash
# EthOS MOTD Generator

MESSAGE=$(cat /opt/ethos/etc/message)
ETHOSVERSION=$(cat /opt/ethos/etc/version)

echo "" > /etc/motd
exec 1>> /etc/motd
echo "Welcome to ethOS $ETHOSVERSION"
echo ""
echo "$MESSAGE"
echo ""
echo "♦♦♦♦♦♦♦♦♦♦♦♦♦♦♦♦♦♦♦♦♦♦♦♦♦♦♦♦♦♦♦♦♦♦♦♦♦♦♦♦♦♦♦♦♦♦♦♦♦♦♦♦♦♦♦♦♦♦♦♦♦♦♦♦♦♦♦♦♦♦♦♦"
echo "                                                                        "
echo " Remote and Local Conf: /home/ethos/remote.conf /home/ethos/local.conf  "
echo " Knowledge Base:        http://ethosdistro.com/kb/                      "
echo " Sample Config:         http://ethosdistro.com/pool.txt                 "
echo "                                                                        "
echo "  Commands:                                                             "
echo "                                                                        "
echo " allow/disallow:        allow OR disallow miner (automatic start)       "
echo " minestop:              turn off all miner instances                    "
echo " helpme:                show the message-of-the-day (i.e this page)     "
echo " show:                  show output of various log files                "
echo " dmesg:                 show display messages and driver messages       "
echo " r/hard-reboot:         issue a regular OR hard reboot                  "
echo "                                                                        "
echo " gethelp:               generate a diagnostics file for getting support "
echo " df | pasteit:          send output of command (ex: df) to paste server "
echo " clear-thermals:        reset thermal-related throttling back to normal "
echo " force-local:           disable remote config                           "
echo " reset-config:          reset remote/local configuration back to default"
echo " reset-network:         reset network configuration back to default     "
echo "                                                                        "
echo " update:                send stats to stats panel                       "
echo " putconf:               manually put remote conf into local conf        "
echo " browser:               launch web browser on local rig                 "
echo " lock:                  lock the ethOS desktop                          "
echo "                                                                        "
echo " ethos-overclock:       force overclocks to apply from local conf       "
echo " ethos-update:          update ethOS to the latest version              "
echo " restart-proxy:         restart local stratum proxy                     "
echo " ethos-driver on/off:   turn on/off graphics driver for the next boot   "
echo " ethoschat:             help chat (in current terminal session)         "
echo " ethoschat-local:       help chat (on rig, in separate window)          "
echo " find-gpu:              example: find-gpu 1     (revs gpu1 fan up/down) "
echo " sudo atiflash:         flashing utility for AMD GPUs                   "
echo " update-miner(s):       updates all miner programs to latest versions   "
echo "                                                                        "
echo "♦♦♦♦♦♦♦♦♦♦♦♦♦♦♦♦♦♦♦♦♦♦♦♦♦♦♦♦♦♦♦♦♦♦♦♦♦♦♦♦♦♦♦♦♦♦♦♦♦♦♦♦♦♦♦♦♦♦♦♦♦♦♦♦♦♦♦♦♦♦♦♦"
echo " "
